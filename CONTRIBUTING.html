<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Contributing to and maintaining rnpn • rnpn</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="Contributing to and maintaining rnpn"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rnpn</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/I_introduction.html">I. Introduction</a>
    </li>
    <li>
      <a href="articles/II_status_intensity.html">II. Status and Intensity Data</a>
    </li>
    <li>
      <a href="articles/III_individual_phenometrics.html">III. Individual Phenometrics</a>
    </li>
    <li>
      <a href="articles/IV_site_phenometrics.html">IV. Site Phenometrics</a>
    </li>
    <li>
      <a href="articles/V_magnitude_phenometrics.html">V. Magnitude Phenometrics</a>
    </li>
    <li>
      <a href="articles/VI_geospatial.html">VI. USA-NPN Geospatial Data</a>
    </li>
    <li>
      <a href="articles/VII_combine_raster_point.html">VII. Putting It All Together</a>
    </li>
    <li>
      <a href="articles/VIII_data_cleaning.html">VIII. Data Cleaning</a>
    </li>
  </ul></li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/usa-npn/rnpn/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Contributing to and maintaining rnpn</h1>
    </div>

<div id="contributing-to-and-maintaining-rnpn" class="section level1">

<p>This outlines how to propose changes to <code>rnpn</code> as well as some common maintenance workflows. It is largely borrowed from the tidyverse standard CONTRIBUTING.md. For more details on R package development, refer to <a href="https://r-pkgs.org/" class="external-link uri">https://r-pkgs.org/</a>.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a></h2>
<p>You’ll want to install the <code>devtools</code> package, which will also install <code>usethis</code>—both of these packages are extremely helpful. Running <code>usethis::use_devtools()</code> will add a line to your .Rprofile file that will automatically load <code>devtools</code> when you open this project in an IDE. <code>usethis::git_sitrep()</code> will help you sort out your git situation including creating and storing a GitHub PAT, which is needed for some of the recommended steps below.</p>
</div>
<div class="section level2">
<h2 id="debugging-api-requests">Debugging API requests<a class="anchor" aria-label="anchor" href="#debugging-api-requests"></a></h2>
<ul><li>Since <code>rnpn</code> uses <code>httr2</code> to construct and perform HTTP requests, you can view debug information (such as the request URL) by wrapping any <code>rnpn</code> function in <a href="https://httr2.r-lib.org/reference/with_verbosity.html" class="external-link"><code>httr2::with_verbosity()</code></a>
</li>
</ul></div>
<div class="section level2">
<h2 id="proposing-and-making-changes">Proposing and making changes<a class="anchor" aria-label="anchor" href="#proposing-and-making-changes"></a></h2>
<p>If you want to make a change, it’s a good idea to first file an issue and make sure the package maintainer agrees that it is needed. If you’ve found a bug, please file an issue that illustrates the bug with a minimal <a href="https://www.tidyverse.org/help/#reprex" class="external-link">reprex</a> (this will also help you write a unit test, if needed). See the tidyverse guide on <a href="https://code-review.tidyverse.org/issues/" class="external-link">how to create a great issue</a> for more advice.</p>
<div class="section level3">
<h3 id="pull-request-process">Pull request process<a class="anchor" aria-label="anchor" href="#pull-request-process"></a></h3>
<ul><li>Fork the package and clone onto your computer. If you haven’t done this before, we recommend using <code>usethis::create_from_github("usa-npn/rnpn", fork = TRUE)</code>.</li>
<li>Install all development dependencies with <code>devtools::install_dev_deps()</code>, and then make sure the package passes R CMD check by running <code>devtools::check()</code>. If R CMD check doesn’t pass cleanly, it’s a good idea to ask for help before continuing.</li>
<li>Create a Git branch for your pull request (PR). We recommend using <code>usethis::pr_init("brief-description-of-change")</code>.</li>
<li>As you make changes, you can test out functions interactively by running <code>devtools::load_all()</code> to roughly simulate what happens when the package would be installed and loaded with <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>
</li>
<li>Make your changes, commit to git, and then create a PR by running <code>usethis::pr_push()</code>, and following the prompts in your browser. The title of your PR should briefly describe the change. The body of your PR should contain <code>Fixes #issue-number</code>.</li>
<li>For user-facing changes, add a bullet to the top of <code>NEWS.md</code> (i.e. just below the first header). Follow the style described in <a href="https://style.tidyverse.org/news.html" class="external-link uri">https://style.tidyverse.org/news.html</a>.</li>
<li>After your PR is merged on GitHub, you can use <code>usethis::pr_finish()</code> to update your main branch and delete the PR branch both locally and on GitHub.</li>
</ul></div>
<div class="section level3">
<h3 id="tests">Tests<a class="anchor" aria-label="anchor" href="#tests"></a></h3>
<ul><li><p>Unit tests are written using <a href="https://cran.r-project.org/package=testthat" class="external-link"><code>testthat</code></a> and can be found in <code>tests/testthat/</code>.</p></li>
<li><p>Many of the tests use <code>vcr</code> for webmocking. The first time code wrapped in <code>vcr::use_casette({})</code> is run successfully, a “fixture” is created in <code>tests/fixtures/</code>. Subsequent runs of that code will <em>not</em> query the API but rather retrieve a cached response from <code>tets/fixtures/</code>. If the API changes or you are finding inconsistencies between tests and interactively running your code, you may want to regenerate these fixtures. You can do this by simply deleting the relevant .yml files and re-running the tests (e.g. with <code>test()</code>).</p></li>
<li><p>Some long-running tests are skipped by default (e.g. in <code>test-npn-observations.R</code>). If you are making changes to functions covered in this skipped tests, it is recommended that you run the test suite without skipping them. You can do this by setting <code>Sys.setenv(RNPN_SKIP_LONG_TESTS = FALSE)</code> before running <code>devtools::test()</code></p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul><li>We use <a href="https://cran.r-project.org/package=roxygen2" class="external-link"><code>roxygen2</code></a>, with <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/rd-formatting.html" class="external-link">Markdown syntax</a>, for documentation.</li>
<li>Make changes to documentation in .R files, not in .Rd files</li>
<li>Remember to run <code>document()</code> and then check the rendered help file with <code>?function</code>
</li>
<li>The documentation (including README.md and vignettes) are used to automatically create a <a href="https://pkgdown.r-lib.org/" class="external-link"><code>pkgdown</code></a> website for the package. This can be customized with <code>_pkgdown.yml</code>.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="reviewing-pull-requests-for-maintainer-only">Reviewing Pull Requests (for maintainer only)<a class="anchor" aria-label="anchor" href="#reviewing-pull-requests-for-maintainer-only"></a></h2>
<ul><li><p>You can get the branch for a pull request locally with <code>usethis::pr_fetch(&lt;PR number&gt;)</code></p></li>
<li><p>Load that version of <code>rnpn</code> including proposed changes with <code>load_all()</code> to play around with functions interactively.</p></li>
<li><p>Run R CMD check locally with <code>check()</code> or use <code>test()</code> to only run tests.</p></li>
<li><p>Add review comments via GitHub and make sure that comments are addressed and tests are passing before merging.</p></li>
<li><p><code>usethis::pr_forget()</code> is useful if you’re done looking at the PR for now, but the branch hasn’t been merged yet. It will delete the branch <em>locally</em> only.</p></li>
<li><p><code>usethis::pr_finish()</code> is useful for “cleaning up” a branch both locally and on GitHub after the associated PR is merged.</p></li>
</ul></div>
<div class="section level2">
<h2 id="making-a-release-for-maintainer-only">Making a release (for maintainer only)<a class="anchor" aria-label="anchor" href="#making-a-release-for-maintainer-only"></a></h2>
<ul><li><p>A good place to start is by running <code>usethis::use_release_issue()</code> which will create a GitHub issue with a checklist of things to do before making a release. It will ask if this is a major, minor, or patch release.</p></li>
<li><p>The checklist created will include any custom bullets in <code>R/release-reminders.R</code></p></li>
</ul></div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a></h2>
<p>Please note that the <code>rnpn</code> project is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project you agree to abide by its terms.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by Jeff Switzer, Scott Chamberlain, Lee Marsh, Kevin Wong, Eric R Scott.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

